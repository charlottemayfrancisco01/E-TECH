<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz It - Synth Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
<style>
  * { box-sizing: border-box; margin:0; padding:0; font-family: 'Comic Neue', cursive; }
  body, html { 
    height:100%; width:100%; overflow:hidden; 
    display:flex; justify-content:center; align-items:center; 
    background: linear-gradient(135deg, #c8b6ff, #a0c4ff);
    position: relative; 
  }
  .shape {
    position:absolute; width:50px; height:50px; opacity:0.7;
    animation: floatShape linear infinite; z-index:0; border-radius:15%;
  }
  .triangle { clip-path: polygon(50% 0%, 0% 100%, 100% 100%); background:#ff0055;}
  .star { clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%); background:#ffdd00;}
  .box { background:#00ffcc; }
  @keyframes floatShape {
    0% { transform: translate(0, 100vh) rotate(0deg);}
    100% { transform: translate(100px, -50vh) rotate(720deg);}
  }
  .page { text-align:center; width:95%; max-width:700px; z-index:1; }
  .box-container {
    background: linear-gradient(120deg, #ffffff, #a0c4ff);
    padding: 40px 30px; border-radius: 30px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25); color: #2d0053;
  }
  h1,h2 { margin-bottom:30px; font-weight:700; }
  h1 { font-size:3.5em; }
  h2 { font-size:2em; }
  button { 
    padding:25px; margin:15px; font-size:1.5em; border:none; border-radius:20px; 
    cursor:pointer; transition: transform 0.2s, box-shadow 0.2s; width:90%; max-width:300px; 
    font-weight:700; background: linear-gradient(45deg,#6c5ce7,#74b9ff); color:white; 
  }
  button:hover { transform: scale(1.1); box-shadow:0 10px 20px rgba(0,0,0,0.3); }
  .choices { display:grid; grid-template-columns:1fr 1fr; gap:20px; justify-items:center; margin-top:30px; }
  .choice-btn { background: linear-gradient(45deg,#6c5ce7,#74b9ff); color:white; padding:25px; border-radius:20px; width:100%; font-size:1.5em; font-weight:700; transition: 0.3s; }
  .choice-btn:hover { transform: scale(1.05); }
  .hidden { display:none; }
  #question { 
    background: linear-gradient(135deg, #d0bfff, #b0d4ff); 
    padding: 40px; border-radius: 30px; 
    box-shadow: 0 10px 30px rgba(0,0,0,0.2); font-size:2em; margin-bottom:30px; 
    color:#2d0053; 
  }
  .correct { background: #00ff55 !important; color:white !important; transform: scale(1.05); }
  .wrong { background: #ff0055 !important; color:white !important; }
  .congrats-container {
    background: linear-gradient(135deg, #ffffff, #f0c4ff);
    padding: 30px 20px; border-radius: 25px;
    max-width: 400px; width: 90%; margin: 0 auto;
    text-align: center; box-shadow: 0 8px 20px rgba(0,0,0,0.2);
  }
  .congrats-text { font-size:50px; margin-bottom:20px; color:#ff00aa; }
  #scoreBox {
    background: linear-gradient(135deg, #c8b6ff, #a0c4ff);
    padding:25px; border-radius:25px; margin-bottom:25px; font-size:1.5em; font-weight:700; color:#2d0053;
  }            
.topLink {
    position: fixed;
    top: 15px;
    left: 15px;
    z-index: 10;
    padding: 10px 16px;
    font-size: 14px;
    border-radius: 14px;
    background: #6a5acd;
    color: white;
    text-decoration: none;
    font-weight: bold;
    box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    transition: 0.3s;
}
.topLink:nth-child(1) { top: 15px; }
.topLink:nth-child(2) { top: 60px; }
.topLink:hover { transform: scale(1.08); background: #5846c9; }
</style>
</head>
<body>

<a href="activities.html" class="topLink">Activities</a>
<a href="lottie.html" class="topLink">Story</a>

<div class="shape triangle" style="top:90%; left:5%; animation-duration:6s;"></div>
<div class="shape star" style="top:80%; left:40%; animation-duration:7s;"></div>
<div class="shape box" style="top:70%; left:30%; animation-duration:6s;"></div>

<div id="page1" class="page">
  <div class="box-container">
    <h1>QUIZ PUB!</h1>
    <button onclick="nextPage(2)">Start</button>
  </div>
</div>

<div id="page2" class="page hidden">
  <div class="box-container">
    <h2>Desktop Publishing Software Quiz</h2>
    <button onclick="nextPage(3)">Simulan</button>
  </div>
</div>

<div id="page3" class="page hidden">
  <div id="question">Question here</div>
  <div class="choices">
    <button class="choice-btn" id="choice0" onclick="checkAnswer(0)">A</button>
    <button class="choice-btn" id="choice1" onclick="checkAnswer(1)">B</button>
    <button class="choice-btn" id="choice2" onclick="checkAnswer(2)">C</button>
    <button class="choice-btn" id="choice3" onclick="checkAnswer(3)">D</button>
  </div>
</div>

<div id="page4" class="page hidden">
  <div class="congrats-container">
    <div class="congrats-text">ðŸŽ‰ Yey! ðŸŽ‰</div>
    <div id="scoreBox">Score: <span id="score">0</span> / 5</div>
    <button onclick="playAgain()">Play Again</button>
  </div>
</div>

<script>
/* =========================================
   ðŸ”Š SOUND ENGINE (Web Audio API)
   ========================================= */
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

function playSound(type) {
    if (audioCtx.state === 'suspended') {
        audioCtx.resume();
    }

    const now = audioCtx.currentTime;

    if (type === 'pop') {
        const osc = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        osc.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        osc.type = 'triangle';
        osc.frequency.setValueAtTime(300, now);
        osc.frequency.exponentialRampToValueAtTime(50, now + 0.1);
        
        gainNode.gain.setValueAtTime(0.15, now);
        gainNode.gain.exponentialRampToValueAtTime(0.01, now + 0.1);

        osc.start(now);
        osc.stop(now + 0.1);

    } else if (type === 'success') {
        // NEW LIVELY "SPARKLE" EFFECT for Correct Answers
        const frequencies = [523.25, 659.25, 783.99, 1046.50]; // C5, E5, G5, C6
        frequencies.forEach((f, i) => {
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            osc.type = 'sine';
            const startTime = now + (i * 0.05);
            osc.frequency.setValueAtTime(f, startTime);
            
            gainNode.gain.setValueAtTime(0.1, startTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + 0.15);

            osc.start(startTime);
            osc.stop(startTime + 0.15);
        });

    } else if (type === 'win') {
        playNote(523.25, now, 0.1); // C5
        playNote(659.25, now + 0.1, 0.1); // E5
        playNote(783.99, now + 0.2, 0.4); // G5

    } else if (type === 'error') {
        const playWonk = (startTime, freq) => {
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            osc.type = 'square'; 
            osc.frequency.setValueAtTime(freq, startTime);
            osc.frequency.exponentialRampToValueAtTime(freq / 2.5, startTime + 0.2);

            gainNode.gain.setValueAtTime(0.08, startTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + 0.2);

            osc.start(startTime);
            osc.stop(startTime + 0.2);
        };

        playWonk(now, 220); 
        playWonk(now + 0.2, 180);
    }
}

function playNote(freq, time, duration) {
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    
    osc.type = 'sine';
    osc.frequency.value = freq;
    
    gain.gain.setValueAtTime(0.1, time);
    gain.gain.exponentialRampToValueAtTime(0.01, time + duration);
    
    osc.start(time);
    osc.stop(time + duration);
}

// ==== QUIZ LOGIC ====
const quizData1 = [
    {question:"Alin sa mga sumusunod ang halimbawa ng Desktop Publishing Software?", choices:["Canva","Excel","Word","PowerPoint"], answer:0},
    {question:"Saan inaayos ang kulay ng teksto at background sa Canva?", choices:["Font Style","Color Tools","Layout Tools","Template"], answer:1},
    {question:"Anong feature ang ginagamit para ayusin ang ayos ng mga elemento sa poster?", choices:["Text Tool","Layout Tools","Shapes","Font"], answer:1},
    {question:"Aling bahagi ng Canva ang ginagamit sa pagpili ng handang disenyo?", choices:["Templates","Background","Text","Color"], answer:0},
    {question:"Saan idinadagdag ang pamagat at mensahe ng poster?", choices:["Shapes","Text Tool","Layout Tools","Insert tool"], answer:1},
];

const quizData2 = [
    {question:"Ano ang Canva?", choices:["Larong online","Software sa paggawa ng design","Calculator","Email"], answer:1},
    {question:"Alin ang maaaring gawin gamit ang Canva?", choices:["Magbilang ng pera","Gumawa ng poster","Maglaro ng games","Mag-type ng codes"], answer:1},
    {question:"Alin sa mga sumusunod ang halimbawa ng Desktop Publishing Software?", choices:["Calculator","Canva","Notepad","Paint"], answer:1},
    {question:"Alin sa mga sumusunod ang tamang halimbawa ng gawa sa Canva?", choices:["Poster","Math quiz","Calculator","Game app"], answer:0},
    {question:"Alin sa mga sumusunod ang HINDI ginagawa sa Canva?", choices:["Paggawa ng poster","Paggawa ng flyer","Pag-edit ng larawan","Paglalaro ng online games"], answer:3},
];

let currentQuestion = 0;
let score = 0;
let currentQuiz = quizData1;

function nextPage(pageNum){
    playSound('pop'); 
    document.querySelectorAll('.page').forEach(p=>p.classList.add('hidden'));
    document.getElementById(`page${pageNum}`).classList.remove('hidden');
    if(pageNum===3) loadQuestion();
}

function loadQuestion(){
    const q = currentQuiz[currentQuestion];
    document.getElementById('question').innerText = q.question;
    q.choices.forEach((choice,i)=>{
      const btn = document.getElementById(`choice${i}`);
      btn.innerText = choice;
      btn.disabled = false;
      btn.classList.remove('correct','wrong');
    });
}

function checkAnswer(selected){
    const q = currentQuiz[currentQuestion];
    const isCorrect = q.answer === selected;
    
    if(isCorrect) {
        score++;
        playSound('success'); // New Sparkle Sound
    } else {
        playSound('error'); // Wonk-Wonk
    }
    
    document.getElementById('score').innerText = score;
    const btn = document.getElementById(`choice${selected}`);
    btn.classList.add(isCorrect?'correct':'wrong');
    if(!isCorrect) document.getElementById(`choice${q.answer}`).classList.add('correct');

    for(let i=0;i<4;i++) document.getElementById(`choice${i}`).disabled=true;

    setTimeout(()=>{
      if(currentQuestion < currentQuiz.length-1){
        currentQuestion++;
        loadQuestion();
      } else {
        if(score === currentQuiz.length) {
            playSound('win'); 
        }
        nextPage(4);
      }
    },1000);
}

function playAgain(){
    playSound('pop');
    currentQuiz = (currentQuiz === quizData1) ? quizData2 : quizData1;
    currentQuestion = 0;
    score = 0;
    document.getElementById('score').innerText = score;
    nextPage(3);
}
</script>
</body>
</html>
